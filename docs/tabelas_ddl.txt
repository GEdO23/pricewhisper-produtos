DROP TABLE CATEGORIA CASCADE CONSTRAINTS;
DROP TABLE MARCA CASCADE CONSTRAINTS;
DROP TABLE MODELO CASCADE CONSTRAINTS;
DROP TABLE PRODUTO CASCADE CONSTRAINTS;

CREATE TABLE CATEGORIA (
    id NUMBER GENERATED AS IDENTITY,
    nome VARCHAR2(255) NOT NULL,
    descricao VARCHAR2(255),
    PRIMARY KEY(id)
);

CREATE TABLE MARCA (
    id NUMBER GENERATED AS IDENTITY,
    nome VARCHAR2(255) NOT NULL,
    descricao VARCHAR2(255),
    PRIMARY KEY(id)
);

CREATE TABLE MODELO (
    id NUMBER GENERATED AS IDENTITY,
    id_marca NUMBER,
    nome VARCHAR2(255) NOT NULL,
    descricao VARCHAR2(255),
    PRIMARY KEY(id)
);

CREATE TABLE PRODUTO (
    id NUMBER GENERATED AS IDENTITY,
    id_categoria NUMBER,
    id_modelo NUMBER,
    nome VARCHAR2(255) NOT NULL,
    descricao VARCHAR2(255),
    preco_custo NUMBER NOT NULL,
    preco_venda NUMBER NOT NULL,
    preco_minimo NUMBER NOT NULL,
    PRIMARY KEY(id)
);

ALTER TABLE MODELO ADD CONSTRAINT Knsndlfkbon3sbxik0xvclk082 FOREIGN KEY (id_marca) REFERENCES MARCA;
ALTER TABLE PRODUTO ADD CONSTRAINT FKbb0k43mtsufg8bfhq0gyaxhhm FOREIGN KEY (id_categoria) REFERENCES CATEGORIA;
ALTER TABLE PRODUTO ADD CONSTRAINT FK3cokkg0escwqeufjs2oxn2bed FOREIGN KEY (id_modelo) REFERENCES MODELO;